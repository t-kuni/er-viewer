# ER Diagram Viewer

MySQL データベースからER図をリバースエンジニアリングし、ブラウザ上で可視化・編集できるツールです。

![image](https://github.com/user-attachments/assets/fb8a0e8d-7b02-421f-be28-f93abeb39e32)


## 機能

### 🔄 リバースエンジニアリング
- MySQLデータベースからER図を自動生成
- 増分リバース対応（既存の配置情報を維持）
- DDL情報の保持

### 🎨 可視化・編集機能
- インタラクティブなER図表示
- エンティティのドラッグ&ドロップ配置
- ズーム・パン操作
- リレーション線の表示（直角ポリライン）
- ホバー時のハイライト表示

### 📊 詳細情報表示
- エンティティクリックでDDL表示
- サイドバーでの詳細情報表示
- プライマリキー・外部キーの視覚的区別

### ✏️ 注釈機能
- 矩形描画（エンティティのグループ化用）
- テキスト追加（補足情報記載用）
- カスタマイズ可能な色・サイズ

### 💾 データ永続化
- ER図データとレイアウト情報の保存
- Dockerボリュームによる柔軟な保存場所設定

## 使用方法

### 1. 環境設定

```bash
# .envファイルをコピー
cp .env.example .env

# 必要に応じてDB設定を変更
vi .env
```

### 2. 起動

```bash
# Docker Composeで起動
docker-compose up -d

# ブラウザでアクセス
open http://localhost:3000
```

### 3. 操作方法

#### リバースエンジニアリング
1. 「リバースエンジニア」ボタンをクリック
2. MySQLデータベースからER図が自動生成される

#### ER図の操作
- **ドラッグ**: エンティティを移動
- **ホイール**: ズーム
- **スペース+ドラッグ**: パン（画面移動）
- **エンティティクリック**: DDL詳細表示

#### レイアウト保存
- 「レイアウト保存」ボタンで配置情報を保存
- 「データ読み込み」ボタンで保存済みデータを復元

#### 注釈追加
- 「矩形追加」: エンティティをグループ化する矩形を追加
- 「テキスト追加」: 補足説明用のテキストを追加

### 4. claude起動

```
claude --mcp-config mcp-servers.json
```

### 5. コンテナイメージ更新

```
docker build -t tkuni83/er-viewer .
docker push tkuni83/er-viewer
```