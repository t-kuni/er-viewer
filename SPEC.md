# 要件

- RDBからER図をリバースできる
  - まずはMySQLのみをサポートする
    - ゆくゆくは対応するRDBMSが増える可能性あり
  - 最初の作成時にエンティティの配置がある程度クラスタリングされると嬉しい
  - 同じDBから追加でリバースできる（増分リバースと呼ぶ）
    - 差分を反映する
    - 「エンティティの配置に関するデータ」は維持される
    - 「エンティティの配置に関するデータ」がないエンティティは左上にまとめて表示される
- ER図をGUIで表示できる
  - エンティティには「テーブル名」と「カラム名の一覧」が表示される
    - カラム名の一覧
      - カラム名のみを表示する
        - 型などの情報は右サイドバーのDDLで確認する
      - カラムの種類に応じてカラム名の左に絵文字を表示して視認性を上げる
    - 「テーブル名」と「カラム名」の長さに応じてエンティティの幅が調整される
  - リレーションが貼られているカラム間が線で繋がれている
    - 上下左右方向のみのPolylineで接続する（斜めの直線はNG）
    - エンティティにホバーすると当該エンティティとリレーションとその先のエンティティがハイライト（強調）される
      - リレーションが貼られているカラムもハイライト（強調）する
      - 一時的に最前面に来るぐらい強調してほしい
    - リレーションにホバーするとリレーションとその両端のカラムがハイライト（強調）される
      - 一時的に最前面に来るぐらい強調してほしい
  - エンティティをクリックすると右サイドバーにDDL相当の情報が表示される
    - DDLはsyntax highlightを行う
  - ホイールで拡大縮小ができる
  - スペースを押しながらドラッグでスクロールする（ホイール押し込みながらマウス移動でも同様）
- ER図上のエンティティの配置をGUI上で自由に操作できる
- RDBからのリバースはGUI上からトリガーできる
- GUI上から「ER図のデータ」や「エンティティの配置に関するデータ」を保存できる
- GUI上で矩形を描画できる
  - 線の色、塗りつぶしの色、サイズ、位置をインタラクティブに編集できる
  - 活用イメージ： エンティティを四角の枠で囲んでER図を視覚的に見やすくする
  - 「エンティティの配置に関するデータ」として保存される
    - 増分リバースしても維持される
- GUI上でテキストを描画できる
  - 位置、色、サイズをインタラクティブに編集できる
  - 活用イメージ： 補足情報を記載する
  - 「エンティティの配置に関するデータ」として保存される
    - 増分リバースしても維持される
- GUI上のキャンバス左上に主要な機能の操作説明を表示する
  - 各種ショートカットキーなど
  - 折りたたみ可能
- GUI上の左サイドバーにレイヤー一覧を表示する
  - レイヤー一覧に表示されるのは「ER図」「矩形NoX」「テキスト "xxx"」
    - ER図は常に１つのみ
    - ここで言うER図とはエンティティとリレーションの集合の事です
  - レイヤー一覧の順番に従ってキャンバスの各要素がレンダリングされる
    - レイヤー一覧の一番上の要素が最前面に描画される
    - レイヤー一覧の一番下の要素が最背面に描画される
  - レイヤー一覧の各要素をドラッグ＆ドロップで順番を入れ替えられる
  - 左サイドバーは開閉できる（デフォルトは表示されている）
    - 閉じても完全に非表示になるわけではない（完全に非表示にしてしまうと再度開く導線がなくなる）
  - 左サイドバーのフチをドラッグ＆ドロップするとサイズを変更できる
  - 「エンティティの配置に関するデータ」として保存される
- 上記の機能をdockerコンテナとして提供する
- docker-composeでRDBのインスタンスとセットで起動するイメージ
- ブラウザで接続する
- 接続先のDBの情報は環境変数で設定する
- 「ER図のデータ」や「エンティティの配置に関するデータ」の保存先はdocker-composeのvolume機能で切り替えられるようにする
  - 理由：リポジトリのVCSで「ER図のデータ」や「エンティティの配置に関するデータ」を管理したいため
