# テストコードのコーディングルール違反修正タスク

## 概要

CLAUDE.mdで定められているテストコーディングルールに違反している箇所を洗い出し、修正すべき項目をまとめました。

#### [ ] error-handling.test.ts
- **96-115行目**: `app.loadERData` テスト用メソッドを削除し、パブリックメソッドを使用
- **147-166行目**: `app.loadERData` テスト用メソッドを削除し、パブリックメソッドを使用
- **209-219行目**: `app.saveLayout` テスト用メソッドを削除し、パブリックメソッドを使用
- **263-273行目**: `app.saveLayout` テスト用メソッドを削除し、パブリックメソッドを使用
- **351-370行目**: `app.loadERData` テスト用メソッドを削除し、パブリックメソッドを使用
- **407-424行目**: `app.reverseEngineer` テスト用メソッドを削除し、パブリックメソッドを使用

## 修正の優先順位

1. **高優先度**: ERViewerApplicationへのテスト用メソッド追加（ルール6違反）
2. **中優先度**: 制御構造排除（ルール3違反）  
3. **低優先度**: 共通化による可読性の低下（ルール2違反）

## 修正完了後の確認事項

- [ ] `npm test && npm run typecheck` でエラーが発生しないことを確認
- [ ] 全てのテストが通ることを確認
- [ ] コーディングルールに準拠していることを確認

## 備考

- 一部のファイル（state-management.test.ts、left-sidebar-toggle.test.ts、ui-components.test.ts）は概ねルールに準拠しており、大きな修正は不要
- 修正時は既存のテストロジックを破壊しないよう注意深く行う
- Mockの呼び出し履歴検証を重視し、state検証は避ける