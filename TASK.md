# 修正が必要なタスク

## 緊急度：高

### エンティティクリック機能の修正
- [ ] エンティティをクリックすると右サイドバーにDDL相当の情報が表示される機能が動作しない
  - 問題：サイドバーがポインターイベントを遮っている（`<div id="sidebar" class="sidebar">…</div> intercepts pointer events`）
  - 影響：SPEC.md要件「エンティティをクリックすると右サイドバーにDDL相当の情報が表示される」が満たされていない

### リレーション線の表示確認
- [ ] リレーションが貼られているカラム間が線で繋がれているか確認・修正
  - 問題：ER図でエンティティは表示されているが、リレーション線が視覚的に確認できていない
  - 影響：SPEC.md要件「リレーションが貼られているカラム間が線で繋がれている」の確認が必要

### テキスト描画機能の実装
- [ ] GUI上でテキストを描画できる機能の実装
  - 問題：「テキスト描画」ボタンがdisabled状態
  - 影響：SPEC.md要件「GUI上でテキストを描画できる」が満たされていない

## 緊急度：中

### インタラクション機能の確認・修正
- [ ] エンティティにホバーすると当該エンティティとリレーションとその先のエンティティがハイライト（強調）される機能の確認
  - サイドバーの問題が解決後に確認が必要

- [ ] リレーションにホバーするとリレーションとその両端のカラムがハイライト（強調）される機能の確認
  - リレーション線の表示確認後に確認が必要

- [ ] ホイールで拡大縮小ができる機能の確認
  - 動作しているかの詳細確認が必要

- [ ] スペースを押しながらドラッグでスクロールする機能の確認
  - 動作しているかの詳細確認が必要

- [ ] ER図上のエンティティの配置をGUI上で自由に操作できる機能の確認
  - エンティティドラッグ機能の動作確認が必要

### データ保存・読み込み機能の確認
- [ ] GUI上から「ER図のデータ」や「エンティティの配置に関するデータ」を保存できる機能の確認
  - 「レイアウト保存」「データ読み込み」ボタンの動作確認が必要

- [ ] 増分リバース機能の確認
  - 「リバースエンジニア」ボタンでの増分更新動作の確認が必要

### GUI機能の確認・実装
- [ ] GUI上で矩形を描画できる機能の確認
  - 「矩形描画」ボタンの動作確認が必要

- [ ] 矩形を編集できない
  - 要件「線の色、塗りつぶしの色、サイズ、位置をインタラクティブに編集できる」を満たせていない

- [ ] テキストを編集できない
  - 要件「位置、色、サイズをインタラクティブに編集できる」

- [ ] レイヤー一覧の各要素をドラッグ＆ドロップで順番を入れ替えられる機能の確認
  - ドラッグ&ドロップ機能の動作確認が必要

- [ ] 左サイドバーのフチをドラッグ＆ドロップするとサイズを変更できる機能の確認
  - サイドバーリサイズ機能の動作確認が必要

## 緊急度：低

### UI改善
- [ ] DDLのsyntax highlightが動作しているか確認
  - エンティティクリック機能修正後に確認

- [ ] レイヤー一覧表示の改善
  - 現在「undefined」が表示されている箇所の修正

## 実装済み・動作確認済み

- [x] RDBからER図をリバースできる（MySQLから正常にER図が生成されている）
- [x] ER図をGUIで表示できる（21個のエンティティが表示されている）
- [x] エンティティには「テーブル名」と「カラム名の一覧」が表示される
- [x] カラムの種類に応じてカラム名の左に絵文字を表示（🔑=主キー、🔗=外部キー、📝=文字列、🔢=数値、📅=日時、❓=NULL許可、🚫=NOT NULL、📍=UNIQUE）
- [x] 左サイドバーにレイヤー一覧を表示する
- [x] 左サイドバーは開閉できる
- [x] GUI上のキャンバス左上に主要な機能の操作説明を表示する
- [x] 操作説明の折りたたみ可能

# タスク完了時に都度確認すること

* npm run typecheckでエラーが発生しないこと
* npm testが全て通ること
* npm run lintでエラーが発生しないこと

# 最終確認

* [ ] npm run typecheckでエラーが発生しないこと
* [ ] npm run lintでエラーが発生しないこと
* [ ] npm testが全て通ること
* [ ] localhost:30033をブラウザで開いてエラーが発生しないこと
